<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Fuddi</title>
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/feed.css">
    <link rel="stylesheet" href="css/control-panel.css"> <!-- Estilos del botón flotante -->
    <link href="https://fonts.googleapis.com/css?family=Homemade+Apple&display=swap" rel="stylesheet">
    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</head>
<body>
    <div id="navbar-container"></div>
    <header>
        

        <!-- Contenedor para los botones de acción -->
        <nav>
            <ul>
                <li>
                    <button onclick="document.getElementById('stores').scrollIntoView({ behavior: 'smooth' });">
                        <ion-icon name="storefront-outline"></ion-icon>
                        Tiendas
                    </button>
                </li>
                <li>
                    <button onclick="document.getElementById('products').scrollIntoView({ behavior: 'smooth' });">
                        <ion-icon name="fast-food-outline"></ion-icon>
                        Productos
                    </button>
                </li>
                <li>
                    <button onclick="window.location.href='register.html'">
                        <ion-icon name="person-add-outline"></ion-icon>
                        Registrarse
                    </button>
                </li>
            </ul>
        </nav>
    </header>
    <main>

        <section id="followed-stores-section" class="stores-section">
            <h2>Tiendas que sigues</h2>
            <div id="followed-stores-container" class="grid"></div>
        </section>

        <section id="stores" class="stores-section">
            <h2>Tiendas destacadas</h2>
            <div id="stores-container" class="grid">
                <!-- Tiendas se insertarán aquí vía JS -->
            </div>
        </section>

        <section id="products" class="products-section">
            <h2>Productos disponibles</h2>
            <div id="products-container" class="products-row">
                <!-- Productos se insertarán aquí vía JS -->
            </div>
        </section>

        

    <!-- Sidebar del control panel -->
    <div id="control-panel-container"></div>

    <footer>
        <p>© 2025 Fuddi.</p>
    </footer>

    <script>
  // Cargar el CSS solo si no está ya cargado
  if (!document.getElementById('navbar-css')) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'components/navbar.css';
    link.id = 'navbar-css';
    document.head.appendChild(link);
  }
  // Cargar el HTML del navbar y luego el JS
  fetch('components/navbar.html')
    .then(res => res.text())
    .then(html => {
      document.getElementById('navbar-container').innerHTML = html;
      // Ahora sí carga el JS del navbar
      import('./components/navbar.js');
    });
</script>
    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/index.js"></script>
    <script type="module" src="js/control-panel.js"></script> <!-- Script del control panel -->
    
</body>
</html>